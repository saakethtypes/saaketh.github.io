{"version":3,"sources":["components/DataTable.jsx","context/AppReducer.js","auth.js","context/GlobalContext.js","components/Filters.jsx","components/Calendar.jsx","components/Header.jsx","components/Req.jsx","components/AddUsers.jsx","ProtectedRoute.js","components/Login.jsx","components/Register.jsx","components/history.jsx","components/Logout.jsx","components/App.jsx","index.js"],"names":["DataTable","props","className","data","map","d","index","page","page_length","key","day_of_week","month","year","packetType","serverId","connType","onClick","decrementPage","incrementPage","AppReducer","state","action","type","logged_in","login","username","password","login_info","register","email","register_info","reqs","jwt","localStorage","getItem","cur","this","logged","cb","initialState","current_user","_id","firstname","access_roles","GlobalContext","React","createContext","GlobalProvider","children","useReducer","dispatch","a","config","headers","user","axios","post","console","log","payload","token","undefined","String","res","verified","veri","auth","history","push","removeItem","uname","pass","usercred","setItem","get","users","assigned","patch","Provider","value","registerUser","loginUser","logout","getRequests","assignRole","verifyToken","Filters","filterSelected","stats","Calendar","utils","DateFnsUtils","disableToolbar","variant","format","margin","id","label","date","onChange","dateChange","KeyboardButtonProps","Header","Req","req","useContext","e","preventDefault","assign","AddUsers","useEffect","ProtectedRoute","Component","component","rest","render","to","pathname","from","location","Login","useState","setUsername","setPassword","placeholder","target","Register","setEmail","confirm","setConfirm","alert","createBrowserHistory","Logout","App","OG_data","Object","values","objectData","setData","Date","setDate","dataDate","statsData","getDate","getMonth","getFullYear","setPage","newConnlen","newConn","setConn","newHostslen","newHost","setHost","retryConnlen","newRetry","setRetry","all_data","setall_data","length","event","option","filter","newDate","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.95a4dc30.chunk.js","sourcesContent":["import React, {useState} from \"react\";\r\nfunction DataTable(props){\r\n    return(\r\n        <div className = \"table_container\">\r\n        <table>\r\n            <tr>\r\n                <th>Date</th>\r\n                <th>PacketType</th>\r\n                <th>Server Id</th>\r\n                <th>Connection Type</th>\r\n                </tr>\r\n            {props.data.map((d,index) => {\r\n                if(index>=(props.page*props.page_length) && index<((props.page*props.page_length) + props.page_length))\r\n                {\r\n                    return (\r\n                        <tr key = {index}>\r\n                            <td>{d.day_of_week}-{d.month}-{d.year}</td>\r\n                            <td>{d.packetType}</td>\r\n                            <td>{d.serverId}</td>\r\n                            <td>{d.connType}</td>\r\n                            </tr>\r\n                    )\r\n                }\r\n                else{\r\n                    return null\r\n                }\r\n            })}\r\n            </table>\r\n            <button onClick = {props.decrementPage}>Previous</button>\r\n            <button onClick = {props.incrementPage}>Next</button>\r\n            </div>\r\n    )\r\n}\r\nexport default DataTable;","\r\nconst AppReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_USER\":\r\n      return {\r\n        ...state,\r\n        logged_in: true,\r\n      };\r\n\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...state,\r\n        logged_in: false\r\n      };\r\n    case 'GET_LOGIN_INFO':\r\n      let login = {}\r\n      login['username'] = action.username\r\n      login['password'] = action.password\r\n      return {\r\n        ...state,\r\n        login_info: login\r\n      }\r\n    case 'GET_REGISTER_INFO':\r\n      let register = {}\r\n      register['username'] = action.username\r\n      register['email'] = action.email\r\n      register['password'] = action.password\r\n      return {\r\n        ...state,\r\n        register_info : register\r\n      }\r\n    case 'REQS':\r\n      return {\r\n        ...state,\r\n        reqs : action.reqs\r\n      }\r\n    case 'ASSIGN_REQ':\r\n        //filter to remove the user from reqs lists\r\n        // return {\r\n        //   ...state,\r\n        //   reqs : action.reqs\r\n        // }    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AppReducer;","class Auth {\r\n  constructor() {\r\n    let jwt = localStorage.getItem('jwt')\r\n    let cur = localStorage.getItem('current_user')\r\n    if(jwt && cur)\r\n      this.logged = true;\r\n    else\r\n      this.logged =false;\r\n  }\r\n  login(cb) {\r\n    this.logged = true;\r\n    cb();\r\n  }\r\n  logout(cb) {\r\n    this.logged = false;\r\n    cb();\r\n  }\r\n  islogged() {\r\n    return this.logged;\r\n  }\r\n}\r\n\r\nexport default new Auth();","import React, { useReducer } from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios';\r\nimport auth from \"../auth\";\r\n\r\n\r\nconst initialState = {\r\n  current_user: {\r\n    _id: \"\",\r\n    firstname: \"\",\r\n    logged: false,\r\n    username: \"\",\r\n    password: \"\",\r\n  },\r\n  logged_in:false,\r\n  access_roles:[\r\n    'admin',\r\n    'agent',\r\n    'analyst'\r\n  ],\r\n  login_info : {username : 'user', password : 'password'},\r\n  register_info : {username : 'user', email : 'hello@gmail.com', password : 'password'},\r\n  reqs:[]\r\n};\r\n\r\nexport const GlobalContext = React.createContext(initialState);\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState)\r\n  async function registerUser(email, password) {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n\r\n        },\r\n      };\r\n      let user = {\"email\":email, \"password\":password}\r\n      await axios.post(\"/register\", user, config);\r\n      console.log(\"User created\")\r\n    } catch (err) {\r\n      dispatch({\r\n        type: \"ERROR\",\r\n        payload: err.data,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function verifyToken(props) {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    };\r\n    if (token!==undefined) {\r\n      const res = await axios.post(\"/verify\",{\"token\":String(token)},config)\r\n      let verified = res.data.veri\r\n      console.log(verified)\r\n        if(!verified){\r\n          localStorage.removeItem(\"jwt\")\r\n        }else{\r\n          auth.login(() => {\r\n          props.history.push(\"/home\");\r\n      });\r\n        }\r\n      }\r\n  }\r\n\r\n  async function loginUser(uname, pass, props) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    };\r\n    let usercred = { username: uname, password: pass };\r\n    try {\r\n      console.log(usercred)\r\n      const res = await axios.post(\"/login\", usercred, config);\r\n      res.data.token?localStorage.setItem(\"jwt\", res.data.token):console.log(\"object\");\r\n      console.log(res)\r\n      if (res.data.logged) {\r\n        dispatch({\r\n          type: \"LOGIN_USER\",\r\n          logged: res.data.logged,\r\n        });\r\n\r\n        auth.login(() => {\r\n          props.history.push(\"/home\");\r\n        });\r\n      } else {\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.log(err)\r\n      dispatch({\r\n        type: \"ERROR\",\r\n        payload: err.data,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function logout() {\r\n    localStorage.removeItem(\"jwt\");\r\n    localStorage.removeItem(\"current_user\")\r\n    dispatch({\r\n      type: \"LOGOUT\",\r\n    });\r\n  }\r\n\r\n  async function getRequests() {\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-auth-token\": localStorage.getItem(\"jwt\"),\r\n      },\r\n    };\r\n    const res = await axios.get(\"/reqs\",config);\r\n    dispatch({\r\n      type: \"REQS\",\r\n      reqs:res.data.users||[]\r\n    });\r\n  }\r\n\r\n  async function assignRole(username) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-auth-token\": localStorage.getItem(\"jwt\"),\r\n      },\r\n    };\r\n    let assigned = {\r\n      \"username\":username\r\n    }\r\n    const res = await axios.patch(`/assign`,assigned,config);\r\n    dispatch({\r\n      type: \"ACCEPT_REQ\",\r\n    });\r\n  }\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        login_info : state.login_info,\r\n        register_info : state.register_info,\r\n        reqs:state.reqs,\r\n        access_roles:state.access_roles,\r\n        current_user:state.current_user,\r\n        registerUser,\r\n        loginUser,\r\n        logout,\r\n        getRequests,\r\n        assignRole,\r\n        verifyToken,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n}","import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalContext\";\r\nfunction Filters(props){\r\n        return(\r\n        <div className = \"buttons_container\">\r\n            <button onClick = {props.filterSelected} value = \"All\" className = \"filter_buttons\">All - {props.stats[0]}</button>\r\n            <button onClick = {props.filterSelected} value = \"newHost\" className = \"filter_buttons\">newHost - {props.stats[3]}</button>\r\n            <button onClick = {props.filterSelected} value = \"retryConnect\" className = \"filter_buttons\">retryConnect - {props.stats[2]}</button>\r\n            <button onClick = {props.filterSelected} value = \"clientConnect\" className = \"filter_buttons\">clientConnect - {props.stats[1]}</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Filters;","import React, { useState } from 'react'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { KeyboardDatePicker } from \"@material-ui/pickers\";\r\n\r\nfunction Calendar(props){\r\n    return (\r\n        <div className = \"calendar_outer_container\">\r\n            <div className = \"calendar_inner_container\">\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <KeyboardDatePicker\r\n                    disableToolbar\r\n                    variant=\"inline\"\r\n                    format=\"dd/MM/yyyy\"\r\n                    margin=\"normal\"\r\n                    id=\"date-picker-inline\"\r\n                    label=\"Date picker inline\"\r\n                    value={props.date}\r\n                    onChange={props.dateChange}\r\n                    KeyboardButtonProps = {{\r\n                        'aria-label': 'change date',\r\n                    }}\r\n                    />\r\n            </MuiPickersUtilsProvider>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Calendar;","import React from 'react'\r\nimport { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalContext'\r\nfunction Header() {\r\n    \r\n    \r\n    return(\r\n        <header>\r\n            <h1>FOCUS DASHBOARD</h1>\r\n            </header>\r\n    )\r\n}\r\nexport default Header;","import React ,{useState}from 'react'\r\nimport { GlobalContext } from '../context/GlobalContext'\r\nimport { useEffect } from 'react'\r\nimport { useContext } from 'react'\r\n\r\nexport const Req = ({req}) => {\r\n    const {reqs,getRequests,assignRole,access_roles} = useContext(GlobalContext)\r\n\r\n    function assign(e,user) {\r\n        e.preventDefault()\r\n        assignRole(user)\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>{req.email}</h3>\r\n                <button onClick={(e)=>assign(e,req.email)}>Confirm</button>\r\n        </div>\r\n    )\r\n}\r\n","import React ,{useState}from 'react'\r\nimport { GlobalContext } from '../context/GlobalContext'\r\nimport { useEffect } from 'react'\r\nimport { useContext } from 'react'\r\nimport {Req} from './Req'\r\nexport const AddUsers = () => {\r\n    const {reqs,getRequests} = useContext(GlobalContext)\r\n    useEffect(()=>{\r\n        getRequests()\r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n            {reqs.map((req)=>\r\n                <div>\r\n                    <Req req={req}/>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport auth from \"./auth\";\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  console.log(auth.logged)\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if (auth.logged) {\r\n          return <Component {...props} />;\r\n        } else {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/\",\r\n                state: {\r\n                  from: props.location\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};","import React,{useState, useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { GlobalContext } from '../context/GlobalContext'\r\nfunction Login(props) {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const {loginUser,verifyToken} = useContext(GlobalContext)\r\n    const initiateLogin = (e) => {\r\n        e.preventDefault();\r\n        loginUser(username, password, props);\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n      };\r\n    verifyToken(props)\r\n    return (\r\n        <div className = 'login_container'>\r\n            <div>\r\n                <label className = 'login_children'><h3>Email</h3></label>\r\n                <input className = 'login_children' type = 'text' value = {username} placeholder = 'Email' onChange = {e=>setUsername(e.target.value)}/>\r\n            </div>\r\n            <div>\r\n                <label className = 'login_children'><h3>Password</h3></label>\r\n                <input className = 'login_children' type = 'password' value = {password} placeholder = 'Password' onChange = {e=>setPassword(e.target.value)}/>\r\n            </div>\r\n            <div>\r\n                    <button className = 'login_children login_buttons' onClick = {initiateLogin}>Login</button>\r\n            </div>\r\n            <div>\r\n                <Link to = '/Register'>\r\n                    <button className = 'login_children login_buttons'>Sign Up</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n                        \r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState, useContext } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { GlobalContext } from '../context/GlobalContext'\r\nfunction Register(props) {\r\n    const {registerUser} = useContext(GlobalContext)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirm, setConfirm] = useState('')\r\n    function initiateRegistration()\r\n    {\r\n        if(confirm === password){\r\n        registerUser(email, password)\r\n        }\r\n        else{\r\n            alert(\"passwords don't match\")\r\n        }\r\n    }\r\n    return(\r\n        <div className = 'login_container'>\r\n            <div>\r\n                <label className = 'login_children'><h3>Email</h3></label>\r\n                <input className = 'login_children' type = 'text' placeholder = 'Email' value = {email} onChange = {e=>setEmail(e.target.value)}/>\r\n            </div>\r\n            <div>\r\n                <label className = 'login_children'><h3>Password</h3></label>\r\n                <input className = 'login_children' type = 'password' placeholder = 'Password' value = {password} onChange = {e=>setPassword(e.target.value)}/>\r\n            </div>\r\n            <div>\r\n                <label className = 'login_children'><h3>Confirm Password</h3></label>\r\n                <input className = 'login_children' type = 'password' placeholder = 'Confirm Password' value = {confirm} onChange = {e=>setConfirm(e.target.value)}/>\r\n            </div>\r\n            <div>\r\n                <Link to = '/'>\r\n                    <button className = 'login_children login_buttons' onClick = {initiateRegistration}>Register</button>\r\n                </Link>\r\n            </div>\r\n            <div>\r\n            <Link to = '/'>\r\n                    <button className = 'login_children login_buttons'>Go back to login</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Register\r\n","\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from '../context/GlobalContext'\r\nimport auth from \"../auth\";\r\nimport history from \"./history\";\r\n\r\nfunction Logout(props) {\r\nconst { logout } = useContext(GlobalContext);\r\n  const log = (e) => {\r\n    e.preventDefault();\r\n    logout();\r\n    auth.logout(() => {\r\n      props.history.push(\"/\");\r\n    });\r\n  };\r\n \r\n  return  <button  onClick={log} className = 'login_children login_buttons'>Logout</button>\r\n};\r\nexport default Logout","import React from \"react\";\r\nimport DataTable from \"./DataTable\";\r\nimport Filters from \"./Filters\";\r\nimport objectData from \"../resources/output\";\r\nimport statsData from \"../resources/stats\";\r\nimport {useState} from \"react\";\r\nimport Calendar from \"./Calendar\";\r\nimport Header from \"./Header\";\r\nimport {AddUsers} from './AddUsers'\r\nimport { GlobalProvider, GlobalContext } from '../context/GlobalContext';\r\nimport { ProtectedRoute } from \"../ProtectedRoute\";\r\nimport {\r\n    BrowserRouter as BRouter,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from 'react-router-dom';\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport Logout from \"./Logout\";\r\n\r\nfunction App(){\r\n\r\n    //data\r\n    let OG_data = Object.values(objectData);\r\n    const [data, setData] = useState(OG_data);\r\n    const[date, setDate] = useState(new Date());\r\n    let dataDate = statsData[String(date.getDate())+'-'+String(date.getMonth()+1)+'-'+String(date.getFullYear())]\r\n    const [page, setPage] = useState(0)\r\n    const page_length = 8\r\n    console.log(dataDate,String(date.getDate())+'-'+String(date.getMonth()+1)+'-'+String(date.getFullYear()))\r\n    //stats\r\n    const [newConn,setConn] = useState(dataDate && dataDate.newConnlen||0)\r\n    const [newHost,setHost] = useState(dataDate && dataDate.newHostslen||0)\r\n    const [newRetry,setRetry] = useState(dataDate && dataDate.retryConnlen||0)\r\n    const [all_data,setall_data] = useState(dataDate && dataDate.all_data||0)\r\n\r\n    function incrementPage(){\r\n        if((page+1)*page_length<data.length)\r\n        {\r\n            setPage(page+1)\r\n        }\r\n    }\r\n    function decrementPage(){\r\n        if(page>0)\r\n        {\r\n            setPage(page-1)\r\n        }\r\n    }\r\n    function filterSelected(event){\r\n        setPage(0)\r\n        let option = event.target.value;\r\n        if(option === \"All\"){\r\n            setData(OG_data.filter(d => {\r\n                if(d.day_of_week == date.getDate() && d.month == (date.getMonth()+1)){\r\n                    return true\r\n                }\r\n                else{\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        if(option === \"newHost\"){\r\n            setData(OG_data.filter(d => {\r\n                if(d.connType === option && d.day_of_week == date.getDate() && d.month == (date.getMonth()+1)){\r\n                    \r\n                    return true\r\n                }\r\n                else{\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        if(option === \"retryConnect\"){\r\n            setData(OG_data.filter(d => {\r\n                if(d.connType === option && d.day_of_week == date.getDate() && d.month == (date.getMonth()+1)){\r\n                    return true\r\n                }\r\n                else{\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        if(option === \"clientConnect\"){\r\n            setData(OG_data.filter(d => {\r\n                if(d.connType === option && d.day_of_week == date.getDate() && d.month == (date.getMonth()+1)){\r\n                    return true\r\n                }\r\n                else{\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        \r\n    }\r\n    function dateChange(event){\r\n        let newDate = event\r\n        console.log(newDate.getMonth())\r\n        setDate(newDate)\r\n        let dataDate = statsData[String(newDate.getDate())+'-'+String(newDate.getMonth()+1)+'-'+String(newDate.getFullYear())]\r\n        console.log(dataDate,String(newDate.getDate())+'-'+String(newDate.getMonth()+1)+'-'+String(newDate.getFullYear()))    \r\n        console.log(dataDate&&dataDate.newConnlen)\r\n        setConn(dataDate&&dataDate.newConnlen)\r\n        setRetry(dataDate&&dataDate.retryConnlen)\r\n        setHost(dataDate&&dataDate.newHostslen)\r\n        setall_data(dataDate&&dataDate.all_data)\r\n        setData(OG_data.filter(d => {\r\n            if(d.day_of_week == newDate.getDate() && d.month == (newDate.getMonth()+1)){\r\n                return true\r\n            }\r\n            else{\r\n                return false\r\n            }\r\n        }))\r\n        // setConn(OG_data.filter(d => {\r\n        //     if(d.day_of_week == newDate.getDate() && d.month == (newDate.getMonth()+1)){\r\n        //         return true\r\n        //     }\r\n        //     else{\r\n        //         return false\r\n        //     }\r\n        // }))\r\n\r\n    }\r\n    return (\r\n        <BRouter>\r\n\r\n        <div>\r\n            <GlobalProvider>\r\n        <Header/>\r\n        <Switch>\r\n        <Route exact path='/'  component={\r\n            Login \r\n        } />\r\n\r\n        <Route exact path='/register'  component={() =>\r\n            <Register />\r\n        } />\r\n        <ProtectedRoute\r\n            path='/home'\r\n            component={(props) => (\r\n                <>\r\n                <Calendar dateChange = {dateChange} date = {date} {...props} />\r\n                <Logout {...props} />\r\n                <Filters filterSelected = {filterSelected} stats={[all_data,newConn,newRetry,newHost]} {...props} />\r\n                <DataTable data={data} page = {page} page_length = {page_length} incrementPage = {incrementPage} decrementPage = {decrementPage}{...props} />\r\n                <AddUsers/>\r\n            </>\r\n                )}\r\n        /> \r\n        </Switch>\r\n        </GlobalProvider>\r\n        </div>\r\n        </BRouter>\r\n\r\n\r\n    )\r\n}\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}